
# Тестовая задача "API по работе со списком пользователей"

## Задача

1. Разработать API для
   1. получения списка пользователей
   2. добавления нового пользователя
1. Написать документацию к разработанному API
2. Предусмотреть изменение хранилища данных учетных записей пользователей без внесения изменений в исходный код API 

## Реализация

Реализовано простейшее REST API на основе фреймворка Laravel

## Развёртывание dev окружения

### Требования
* [VirtualBox](https://www.virtualbox.org/)
* [Vagrant](https://www.vagrantup.com/)
* Около 2,5 ГБ места на диске

### Установка

```
git clone git@github.com:alex-karo/test-userlist-api.git
vagrant up
```
После развёртывания приложения можно зайти по [адресу](http://192.168.33.115/)

## Описание API

Для получения корректного JSON необходим HTTP заголовок "Accept: application/json"

### Методы

##### Вывести всех пользователей
Request Method: GET  
Request URL: /users/

Возвращает множество пользователей в формате JSON

##### Вывести пользователя с заданным id
Request Method: GET  
Request URL: /users/{id}/

Возвращает одного пользователя в формате JSON  
В случае отсутствия пользователя с заданным id - выдаёт ошибку 404.

##### Добавить пользователя
Request Method: POST  
Request URL: /users/  
Params:  
name - имя пользователя

Возвращает созданного пользователя.  
В случае ошибок валидации - выдаст ошибку 400 и JSON со списком ошибок

##### Удалить пользователя
Request Method: DELETE  
Request URL: /users/{id}/

Возвращает 204 в случае успеха.  
Если пользователь не найден - выдаёт ошибку 404.

##### Изменить пользователя
Request Method: PUT | PATCH  
Request URL: /users/{id}/  
Params:  
name - имя пользователя

### Примеры использования


Запрос:
```
GET /users/
```
Ответ: 
```json
[
  {
    "id":18,
    "name":"Johann",
    "created_at":"2016-10-22 10:38:05",
    "updated_at":"2016-10-22 10:38:05"
  },
  {
    "id":20,
    "name":"Robert');DROP TABLE users;",
    "created_at":"2016-10-22 11:15:29",
    "updated_at":"2016-10-22 11:15:29"
  }
]
```
  
---

Запрос:
```
GET /users/18/
```
Ответ: 
```json
{
    "id":18,
    "name":"Johann",
    "created_at":"2016-10-22 10:38:05",
    "updated_at":"2016-10-22 10:38:05"
}
```